# Oblig 4

## Team:

#### Gruppe 6 - *"Sjette_Etasje"*

#### Medlemmer og roller: 
  - Endre H. Aspøy: Teamleder, utvikler
  - Thale Marie Bjerkreim: Dokumentasjonsansvarlig, utvikler
  - Aurora Bjørnerud: Kundekontakt, ansvar for user Interface, utvikler
  - Stine Bjordal: Testansvarlig, utvikler
  - Julie Sandanger: Designansvarlig, utvikler
  - Eivind H. Naasen: Arkitekt, utvikler

## Prosjektrapport:

1. **Hvordan fungerer rollene i teamet?** Trenger dere å oppdatere hvem som er teamlead eller kundekontakt?

- Rollene har fungert veldig fint hele veien. 
- Da vi satt opp rollene var det tenkt at rollen var noe man skulle ha et ekstra ansvar for, men at alle skulle ta
  den siste rollen som utvikler. Dette har vært en god løsning for oss. 
- Vi bestemte tidligere i prosjektet at arkitektrollen er såpass stor og utfordrende, at han må avlastes som utvikler - 
  med mindre han selv har tid og lyst til å ta utvikler-oppgaver. Denne avgjørelsen har vært god og nødvendig, og vi har
  beholdt den slik siden.

2. **Trenger dere andre roller?** Skriv ned noen linjer om hva de ulike rollene faktisk innebærer for dere.
- Vi har ikke sett behov for flere roller enn de vi hadde fra start. 
- Vi har erfart at arkitekt- og lederrollene var de mest tydelige i startfasen, men at de andre rollene har kommet mer frem 
  underveis i prosjektet.
- **Hva rollene innebærer for oss:**
  - Teamlead: (Endre)
    - Teamlead skal lede teamet på best mulig måte. Vedkommende sørger for å distribuere viktig informasjon ang prosjektet,
      samt sørge for at vi overholder tidsfrister og møter de kravene som er gitt i oppgaven.
      Personen oppretter og fordeler arbeidsoppgaver i Jira, eller delegerer i henhold til det som er naturlig.
  - Arkitekt (Eivind)
    - Arkitekten er ansvarlig for å sørge for at spillet henger sammen. Med dette menes det at vedkommende setter opp et
      forslag til arkitektur for spillet. Ens jobb er å identifisere hvilke klasser det er behov for, og hvilken
      funksjonalitet de behøver. Arkitekten laget et førsteutkast av arkitektur, som et forslag og et grunnlag vi bytter
      videre på. Etterhvert som vi har sett flere behov eller utfordringer har utvikler sparret med arkitekten om hvordan
      man skal løse utfordringene.
  - Kundekontakt (Aurora)
    - Kundekontakten skal være ansvarlig for at spillet vårt er brukervennlig. Av dette inngår det blant annet å sørge
      for at brukeren forstår hensikten med spillet, spillets regler, samt hvordan det spilles. Ting som valg av farger
      for å tilrettelegge for også fargesvake vil falle innunder denne kategorien.
  - Testansvarlig (Stine)
    - Testansvarlig sin jobb er å sørge for at koden vår har nok tester, og at testene er tilstrekkelig, dette innebærer
      blant annet at prosjektet har 75% coverage. Det faller ikke innunder rollen at personen skal skrive samtlige tester,
      men heller at vedkommende skal ha oversikt over hvor mye og hva vi tester.
  - Dokumentasjonsansvarlig (Thale)
    - Denne rollen skal sørge for at all dokumentasjon i koden vår er i henhold til standarder, samt at alt som burde
      dokumenteres er dokumentert.
  - Designansvarlig (Julie)
    - Designansvarlig skal designe det grafiske til spillet. Vedkommende skal sørge for at teamet har de ressursene man
      trenger for det grafiske. Dette innebærer å lage/hente sprites for ulike objekter og bakgrunn. Det skal også sørges
      for at alt av ressurser som hentes skal det oppgis kilder til, og at lover og regler om opphavsrettigheter følges.

3. **Er det noen erfaringer enten team-messig eller mtp prosjektmetodikk som er verdt å nevne?** Synes teamet at de valgene
   dere har tatt er gode? Hvis ikke, hva kan dere gjøre annerledes for å forbedre måten teamet fungerer på?
   - Vi har ikke hatt så tydelige krav om hva man forventer av jobb fra det enkelte teammedlem fra gang til gang, som antakelig
     har bidratt til at antallet commits er skjevfordelt. Det har likevel fungert for oss, fordi vi er et team med medlemmer
     som har lyst til å jobbe og se fremgang i prosjektet. 
   - Vi har i sluttfasen av prosjektet blitt flinkere til å ha tydeligere krav om hva som skal gjøres fra gang til gang. 
     Dessuten har vi i fellesskap diskutert hvilke gjøremål som er viktig å få unnagjort før innlevering av ferdig prosjekt,
     og hvilke som er en bonus å få gjennomført.
   - Vi har erfart at med så "stort" team trenger vi en del struktur for å holde ting oversiktlig og ryddig. 
   - I startfasen av prosjektet prioriterte vi ikke godt nok å bruke Jira for Kanban prosjektmetodikk. Underveis så vi
     bedre hvilken nytteverdi verktøyet har - og vi ble dermed flinkere på å benytte Jira til arbeidsfordeling og felles
     oversikt over gjøremål. Dette er lærdom vi tar med oss videre, og som vi kommer til å tipse fremtidige studenter om.
   - Andre erfaringer vi vil nevne er nytteverdien av parprogrammering, som vi i de større delene av prosjektet har brukt flittig.
     Det har bidratt til mye bedre oversikt over prosjektet, i alt fra kode og testcoverage til bugs og at prosjektet
     besvarer oppgavekravene. Det har dessuten vært svært lærerikt for alle i  gruppen.

4. **Hvordan er gruppedynamikken? Er det uenigheter som bør løses?**
   - Gruppedynamikken har vært god hele veien. Vi har ikke opplevd uenigheter, og forsøker å ha åpen dialog i gruppen.
   - For å beholde harmonien i gruppen har vi jobbet med å tydeliggjøre forventningene vi har til hverandre, forsøke 
     å motivere hverandre og beholde god stemning.

5. **Hvordan fungerer kommunikasjonen for dere?**
   - Vi føler kommunikasjonen fungerer godt, og at utfordringene som ble nevnt tidligere ang forsvunnede beskjeder ikke 
     har vært et problem lenger. 
   - Å ha fellesøkter med parprogrammering har hjulpet veldig for at alle skal ha oversikt over prosjektet,
     og dermed også kommunikasjonen.


6. **Gjør et kort retrospektiv hvor dere vurderer hva dere har klart til nå, og hva som kan forbedres.**
   Dette skal handle om prosjektstruktur, ikke kode. Dere kan selvsagt diskutere kode, men dette handler ikke om
   feilretting, men om hvordan man jobber og kommuniserer.
   - Vi har skapt et team hvor rollene er tydelige, og vi vet hvem vi skal gå til for de ulike utfordringene vi møter på. 
   - Vi har klart å identifisere problemer som arbeidsfordeling og kommunikasjon, og vi har blitt enige om tiltak for 
     å forbedre dem. 
   - Vi har oppnådd et annet forhold til Jira, og forstår hvordan verktøyet skal hjelpe oss med å holde oversikten, fremfor 
     å bare være enda et gjøremål.
   - Vi har laget gode rutiner for arbeid med gruppen med faste tider hvor vi jobber sammen, samt at alle gruppens medlemmer
     har bidratt på egenhånd.
   - Vi har blitt tydeligere på hva som er nødvendig for at oppgaven skal bli gjennomført etter kravene, og avventet 
     ekstrafunksjoner til vi har gjennomført de mest nødvendige oppgavekravene som testcoverage, nødvendige funksjoner og
     fiksing av bugs. Dette har bidratt til å fjerne unødvendig stress over arbeidsmengde og konkretisert arbeidsoppgavene
     vi har hatt foran oss.


7. Under vurdering vil det vektlegges at alle bidrar til kodebasen. Hvis det er stor forskjell i hvem som committer, må
   dere legge ved en kort forklaring for hvorfor det er sånn. Husk å committe alt. (Også designfiler).
   - Vi har gjort mye felles (parprogrammering på storskjerm i grupperom), som alle har bidratt til, men da vil det 
     naturligvis se ut som kun én person har arbeidet den økten. Dette gjelder særlig store ting som refaktorering av 
     klasser som garingvirkninger i store deler av kodebasen. Dette har i hovedsak blitt gjennomført fra Eivind, Aurora og 
     Endres pcer. Vi har ikke alltid vært flinke til å skrive dette i commit-kommentarer.
   - Det er også stor forskjell på hvor ofte de ulike i teamet registrerer commits, blant annet pga. ulike roller i teamet.
     Noen deler av prosjektet har krevd mer redigering og oppdatering. F. eks. oppsett av logikk og struktur, design og testing,
     mens andre ting - som fiksing av bugs - gjerne har færre commits. Tidsbruken på prosjektet kan dermed være jevnere enn
     det som kommer frem i listen av commits.
   - Vi opplever dog at alle har bidratt til prosjektet.
   - En annen ting som kan ha bidratt til manglende commit til main, er at noen grener har blitt merget sammen før de har 
     blitt merget til main. Vi har forstått det vil det da kun se ut som en person har gjort alle endringene, selv om det 
     i realiteten har vært to eller flere. Vi har forsøkt å unngå dette etter vi ble oppmerksom på det.


8. Referat fra møter siden forrige leveranse skal legges ved (mange av punktene over er typisk ting som havner i referat).
   - Se Git Wiki


9. Bli enige om maks tre forbedringspunkter fra retrospektivet, som skal følges opp under neste sprint.
   - Nå gjenstår bare forberedelser til presentasjon av prosjektet.


10. Gjør et retrospektiv hvor dere vurderer hvordan hele prosjektet har gått. Hva har dere gjort bra, hva hadde dere gjort 
    annerledes hvis dere begynte på nytt?
    - Vi er veldig fornøyd med hvordan prosjektet har blitt, og produktet vi har endt opp med. Prosessen har vært svært 
      lærerik, både teknisk i form av at vi har blitt flinkere til å kode, men ikke minst i form av samarbeid med andre.
    - Vi har erfart at planene våre har måttet gjøres om på flere ganger, da det har dukket opp utfordringer vi ikke hadde
      sett for oss underveis. Pensum og forelesningene har lært oss mye om hvordan koden må bygges opp for å være SOLID og 
      testbar underveis i kurset, som har gjort at vi har måttet skrive om koden for å ta hensyn til dette.
    - Vi har også erfart at ting vi har drevet med har vært vanskelig, som å skrive tester for libgdx-elementer. Det har 
      vært frustrerende å stå fast og innse at gruppelederne heller ikke har svar på hvordan vi skulle løse utfordringene.
      Det har vært mye mestring i å løse utfordringene som et team og oppnå et ferdig produkt vi er stolte av.

    **- Hva har vi gjort bra?**
      - Vi føler vi har vært gode på å kommunisere, ha jevnlige møter og ta opp og informere om ting mellom møtene. 
      - Vi har også vært flinke til å inkludere alle i gruppen i store avgjørelser, men også la alle slippe til og ta egne 
        avgjørelser på vegne av gruppen der det har vært mulig og nødvendig. Der alle ikke har vært med i avgjørelsene, har vi
        skrevet kommentarer, TODO's, beskrivende commits og oppdatert om store endringer i Discord og/eller på møter.
      - Oppdatert UML-diagram underveis
      - Skrevet mange tester, og jobbet med å dekke alle de forskjellige klassene, selv om vi fikk beskjed om at det ville 
        bli vanskelig å dekke Model og View spesielt. 
      - Vi har fulgt med på Test coverage både i Coverage og Pit underveis, for å se at ny kode også blir dekket.

    **- Hva vi ville gjort annerledes om vi skulle startet på nytt:**
      - Vi skulle ha lest oss mer opp på libgdx og spilldesign i Java før vi startet å programmere. Vi forsøkte å bruke litt
        tid på dette i starten før vi satt igang, men å bruke enda mer tid på dette før vi satt igang ville spart oss mye tid
        på refaktorering senere. Det har dog vært veldig lærerikt å måtte gjøre om på strukturen underveis.
      - Vi burde ha prioritert å skrive flere tester tidligere i prosjektet. Vi avventet å teste flere av klassene til logikken
        var på plass for å slippe å måtte gjøre om på alt vi hadde skrevet i etterkant. Vi burde hatt noen enkle tester for 
        å se at logikken ble riktig mens vi prøvde oss frem på hvordan koden måtte være for å få korrekt funksjonalitet.
      - Vi har som nevnt kommet gjennom pensum i kurset underveis i prosjektutviklingen. Hadde vi startet på nytt nå med
        kunnskapen vi innehar nå etter snart gjennomført semester, ville vi naturligvis skrevet koden annerledes.

## Krav og spesifikasjon
1. **Oppdater hvilke krav dere har prioritert, hvor langt dere har kommet og hva dere har gjort siden forrige gang.** Er dere
   kommet forbi MVP? Forklar hvordan dere prioriterer ny funksjonalitet.
- Som nevnt i oblig 3, er vi forbi MVP. Vårt forrige fokus var å få 75% testcoverage og dette har vi oppnådd. Fra sist oblig
har hovedfokuset vært å forbedre eksisterende kode og få grundig oversikt over hva som ikke har blitt gjort av arbeidskrav. Fra samme uken forrige oblig ble levert
har vi hatt full fokus på å implementere visitor pattern med double dispatch siden vi ble oppmerksom på at den daværende implementasjonen ikke var ideell.
Som et resultat av mye kode endring, for å få på plass visitor pattern, fikk vi en del bugs og innså feil i koden som vi ikke visste om før denne prossesen. Når visitor pattern
endelig var på plass ble hovedfokuset hvilke oppgavekrav vi ikke hadde oppfylt. Vi har blandt annet lagt til abstrakte objektfabrikker, og kontaktet noen som bruker linux for å 
dobbelt sjekke at spillet kan kjøres på alle operativsystemer. Nå rett før oblig 4 skal inn har vi prøvd å finpusse koden med å feks fjerne dø kode, fjerne ubrukte imports,
sjekke tilgangene til feltvariabler+ metoder osv.



- **Oppsummert hva som er gjort siden sist:**
  - se produkt og kode punkt


2. **For hvert krav dere jobber med, må dere lage 1) ordentlige brukerhistorier, 2) akseptansekriterier og 3) arbeidsoppgaver.**
   Husk at akseptansekriterier ofte skrives mer eller mindre som tester

  * Nye brukerhistorier: ...

3. **Dersom dere har oppgaver som dere skal til å starte med, hvor dere har oversikt over både brukerhistorie, akseptansekriterier og arbeidsoppgaver, kan dere ta med disse i innleveringen også.**
- Vi har oppnådd alle kravene våres for både MVP og post-MVP. Vi har derfor ingen planer om å legge til mer funksjonalitet som krever brukerhistorier.

4. **Forklar kort hvordan dere har prioritert oppgavene fremover**
- Som nevnt i punkt 1 er fokuset siste tiden, før siste innlevering, finpussing av kode. Siden vi er ferdig med spillet har vi ikke noen oppgaver som skal prioriteres fremover.

5. **Har dere gjort justeringer på kravene som er med i MVP?** Forklar i så fall hvorfor. Hvis det er gjort endringer i rekkefølge utfra hva som er gitt fra kunde, hvorfor er dette gjort?

- Vi har ikke endret på mvp krav siden sist innlevering.

6. **Oppdater hvilke krav dere har prioritert, hvor langt dere har kommet og hva dere har gjort siden forrige gang.**

- Se punkt 1


7. **Husk å skrive hvilke bugs som finnes i de kravene dere har utført (dersom det finnes bugs).**
- Vi har ikke bugs knyttet til de spesifike kravene vi har lagt til etter MVP. Generelle bugs er at bakgrunn beveger seg når player kolliderer med vegg, og at player kan hoppe forksjellig. Hoppingen 
har vi tenkt er en feature istedenfor en bug. Det er jo til og med realistisk at man ikke hopper like høyt hver gang man hopper:)


## Produkt og kode
#### "Dette har vi gjort siden sist:"
* Siden sist har vi gjort en rekke endringer for å møte oppgave kravene, samt følge SOLID prinsipper.
    - Vi har gitt spillet våres navnet "Star hunt", og endret i relevante filer og pakker.
    - Vi har endret fabrikken vår til flere fabrikker, og gjort dem abstrakte. Disse oppretter nå samtlige objekter i spillet vårt.
    - Vi har implementert et visitor pattern for kollisjon mellom objekter, fremfor å gjøre omfattende instanceOf sjekker i modellen, og med dette gjort koden mer modulær.
    - Vi har flyttet lyder til view, og de spilles av ved bruk av event listener.
    - Vi har opprettet en utils klasse for å kunne gjenbruke kode.
    - Vi har skrevet enda flere tester, og skrevet om på de som behøvde det.
    - Vi har fjernet død kode.
    - Vi har fjernet ubrukte imports.
    - Vi har endret tilgangsmodifikator på enkelte variabler og metoder, slik at de har den strengeste de kan ha, og dermed ivaretatt enkapsulering.
    - Vi har finskrevet javadocs for alle klasser, metoder, konstruktører, feltvariabler. Vi har fulgt stilguiden fra inf101. (https://inf101v23.stromme.me/notat/stil/)
    - Vi har lagt til en lyd som spilles av når spilleren tar skade.
    - Vi har lagt til en level counter som tydeliggjør spillets progresjon.
    - Vi har gjort slik at teksturen til fiender flippes ved skifting av retning.
    - Vi har laget to nye hjelpe-klasser, nemlig AbstractScreen og AbstractApplicationListener for å abstrahere vekk unødvendige metoder (Interface Segregation Principle).
    - Vi har refaktorert typen Player til ModelablePlayer i WorldModel for å beholde avhengigheter basert på abstraksjoner og ikke konkretiseringer (Dependency Inversion Principle).
    - Vi har oppdatert UML-diagrammet.

* Bugs:

